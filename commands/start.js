function r(bot, db, logger) {
  bot.start((ctx) => {
    db.query(
      `INSERT users (chat_id) values (${ctx.message.chat.id})`,
      function (err) {
        if (err) {
          logger(
            "DB Error",
            `–ü–æ–º–∏–ª–∫–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ${ctx.message.chat.id} –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö!`,
            err
          );
          if (err.code == "ER_DUP_ENTRY") {
            logger(
              "User",
              `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á ${ctx.message.chat.id} –≤–∂–µ —î —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö`
            );
            ctx.reply(
              "–•–º... –ó–¥–∞—î—Ç—å—Å—è –≤–∏ –≤–∂–µ —î —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö. \n–Ø–∫—â–æ –≤–∏ –≤–≤–∞–∂–∞—î—Ç–µ —â–æ —Å—Ç–∞–ª–∞—Å—å –ø–æ–º–∏–ª–∫–∞ @berezovsky23"
            );
          }
        } else {
          logger(
            "DB",
            `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ${ctx.message.chat.id} –¥–æ–¥–∞–Ω–æ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö!`
          );
          ctx.telegram.sendMessage(
            ctx.chat.id,
            "* –í–∏–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É: * \n \n *üë®‚Äçüéì –í–∏–±—ñ—Ä –≥—Ä—É–ø–∏* - –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –≥—Ä—É–ø–∏ —É —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ. \n *üìÖ –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥-—Ç–∞–±–ª–∏—Ü—é* - –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥ —É —Ñ–æ—Ä–º–∞—Ç—ñ —Ç–∞–±–ª–∏—Ü—ñ (_—è–∫ –Ω–∞ —Å–∞–π—Ç—ñ_)",
            {
              parse_mode: "markdown",
              reply_markup: {
                parse_mode: "markdown",
                keyboard: [
                  [
                    { text: "üë®‚Äçüéì –í–∏–±—ñ—Ä –≥—Ä—É–ø–∏" },
                    { text: "üìÖ –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥-—Ç–∞–±–ª–∏—Ü—é" },
                  ],
                ],
                resize_keyboard: true,
                one_time_keyboard: true,
              },
            }
          );
        }
      }
    );
  });
}
module.exports = r;
